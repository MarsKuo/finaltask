import{r as s,u as c,b as w,d as v,e as o,f as a,v as i,i as C,j as b,k as x,a as y,S as d,l as h,R as S}from"./index-BskacCaf.js";const V={id:"signUpPage",class:"bg-yellow"},k={class:"conatiner signUpPage vhContainer"},B={class:"formControls",action:"index.html",id:"myForm"},U="https://todolist-api.hexschool.io",E={__name:"SignupView",setup(_){const r=s(""),u=s(""),n=s(""),m=s(""),l=s(""),f=c(),g=async()=>{const p=document.getElementById("myForm");if(p.checkValidity())if(n.value===m.value)try{const e=await y.post(`${U}/users/sign_up`,{email:r.value,nickname:u.value,password:n.value});l.value="註冊成功，請重新登入",d.fire({position:"center center",icon:"success",title:l.value,showConfirmButton:!1,timer:1500}),setTimeout(()=>{f.push("/login")},1500)}catch(e){console.log(e),l.value=`註冊失敗:${e.response.data.message}`,d.fire({icon:"error",title:l.value,text:"Something went wrong!",showConfirmButton:!1,timer:1500})}else l.value="密碼不一致，請再次確認密碼",d.fire({icon:"error",title:l.value,text:"Something went wrong!",showConfirmButton:!1,timer:1500});else p.reportValidity()};return(p,e)=>(w(),v("div",V,[o("div",k,[e[10]||(e[10]=o("div",{class:"side"},[o("a",{href:"#"},[o("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),o("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),o("div",null,[o("form",B,[e[5]||(e[5]=o("h2",{class:"formControls_txt"},"註冊帳號",-1)),e[6]||(e[6]=o("label",{class:"formControls_label",for:"email"},"Email",-1)),a(o("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t)},null,512),[[i,r.value]]),e[7]||(e[7]=o("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),a(o("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t)},null,512),[[i,u.value]]),e[8]||(e[8]=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),a(o("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t)},null,512),[[i,n.value]]),e[9]||(e[9]=o("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1)),a(o("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t)},null,512),[[i,m.value]]),o("input",{class:"formControls_btnSubmit",type:"button",onClick:g,value:"註冊帳號"}),C(x(S),{class:"formControls_btnLink",to:"/login"},{default:b(()=>e[4]||(e[4]=[h("登入")])),_:1})])])])]))}};export{E as default};
